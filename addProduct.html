<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adaugă Produs Nou</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        const token = localStorage.getItem("userToken");
        const role = localStorage.getItem("userRole");
        
        if (!token || role !== "ROLE_ADMIN") {
            alert("Acces interzis! Trebuie să fii administrator pentru a edita produse.");
            window.location.href = "index.html";
        }
    </script>
    <script src="config.js"></script>

</head>
<body>

<link rel="stylesheet" href="style.css">
<script src="https://unpkg.com/lucide@latest"></script>

<div class="sidebar-overlay" id="sidebar-overlay"></div>
<div class="mobile-sidebar" id="mobile-sidebar">
    <div class="sidebar-header" style="background-color: #68c2f3;">
        <img src="image/logo.png" alt="Logo" style="height: 80px;">
        <span id="mobile-sidebar-close">&times;</span>
    </div>
    <ul class="sidebar-links" id="sidebar-links-container">
        </ul>
</div>

<nav class="navbar">
    <div class="nav-left">
        <div class="hamburger-menu" id="mobile-menu-btn">
            <i class="fas fa-bars"></i>
        </div>

        <a href="index.html" class="nav-logo">
            <img src="image/logo.png" alt="Logo">
        </a>

        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="shop.html" class="active">Shop</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </div>

    <div class="nav-right">
        <div class="cart-wrapper">
            <a href="cart.html" class="nav-icon" id="cart-nav-link">
                <i data-lucide="shopping-cart"></i>
                <span id="cart-count-badge">0</span>
            </a>
              <div id="mini-cart-popup" class="mini-cart-popup">
            <div class="mini-cart-header">Rezumat Coș</div>
            <div id="mini-cart-items" class="mini-cart-body">
                </div>
            <div class="mini-cart-footer">
                <div class="mini-cart-total">Total: <span id="mini-cart-total-price">0</span> RON</div>
                <a href="cart.html" class="btn-view-cart">Vezi detalii</a>
            </div>
        </div>
        </div>

        <a href="login.html" id="nav-login-btn" class="login-btn">Log In</a>

        <div class="profile-dropdown" id="nav-profile-section" style="display: none;">
            <a href="#" class="nav-icon"><i data-lucide="user"></i></a>
            <div class="dropdown-content">
                <a href="profile.html"><i data-lucide="user-check" style="width:16px;"></i> Contul meu</a>
                <a href="orders.html"><i data-lucide="package" style="width:16px;"></i> Comenzile mele</a>
                <a href="favorites.html"><i data-lucide="heart" style="width:16px;"></i> Favorite</a>
                  <a href="admin-dashboard.html" id="admin-link" style="color: #e74c3c; font-weight: 600; display: none;">
                    <i data-lucide="shield-alert" style="width:16px;"></i> Admin Panel
                </a>
                <hr>
                <a href="javascript:void(0)" id="logout-btn">Deconectare</a>
            </div>
        </div>
    </div>
</nav>



<script>
    lucide.createIcons();
</script>

    <main>
  <div class="add-container"> 
    <h2>Adaugă Produs Nou (Configurație Complexă)</h2> 

    <form id="addProductForm"> 
        <label for="productName">Nume produs</label>
        <input type="text" id="productName" required>

        <label for="productDescription">Descriere</label>
        <textarea id="productDescription" required></textarea>

        <label for="productPrice">Preț (RON)</label>
        <input type="number" id="productPrice" required step="0.01">

        <label for="available">Disponibilitate Generală</label>
        <select id="available">
            <option value="true">Disponibil</option>
            <option value="false">Indisponibil</option>
        </select>

        <hr style="margin: 20px 0; border-top: 1px dashed #ccc;">

        <h3>Stoc pe Mărimi și Culori</h3>
        <table class="admin-variant-table" style="width: 100%; margin-bottom: 20px; border-collapse: collapse;">
            <thead>
                <tr style="background: #f4f4f4;">
                    <th style="padding: 10px; border: 1px solid #ddd;">Culoare</th>
                    <th style="border: 1px solid #ddd;">S</th>
                    <th style="border: 1px solid #ddd;">M</th>
                    <th style="border: 1px solid #ddd;">L</th>
                    <th style="border: 1px solid #ddd;">XL</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;"><strong>Alb</strong></td>
                    <td style="border: 1px solid #ddd;"><input type="number" class="stock-input" data-color="Alb" data-size="S" value="0" style="width: 50px;"></td>
                    <td style="border: 1px solid #ddd;"><input type="number" class="stock-input" data-color="Alb" data-size="M" value="0" style="width: 50px;"></td>
                    <td style="border: 1px solid #ddd;"><input type="number" class="stock-input" data-color="Alb" data-size="L" value="0" style="width: 50px;"></td>
                    <td style="border: 1px solid #ddd;"><input type="number" class="stock-input" data-color="Alb" data-size="XL" value="0" style="width: 50px;"></td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #ddd;"><strong>Negru</strong></td>
                    <td style="border: 1px solid #ddd;"><input type="number" class="stock-input" data-color="Negru" data-size="S" value="0" style="width: 50px;"></td>
                    <td style="border: 1px solid #ddd;"><input type="number" class="stock-input" data-color="Negru" data-size="M" value="0" style="width: 50px;"></td>
                    <td style="border: 1px solid #ddd;"><input type="number" class="stock-input" data-color="Negru" data-size="L" value="0" style="width: 50px;"></td>
                    <td style="border: 1px solid #ddd;"><input type="number" class="stock-input" data-color="Negru" data-size="XL" value="0" style="width: 50px;"></td>
                </tr>
            </tbody>
        </table>

        <hr style="margin: 20px 0; border-top: 1px dashed #ccc;">

        <h3>Galerie Imagini (2 poze per culoare)</h3>
        <div id="imageInputsContainer">
            <div class="image-upload-row" style="margin-bottom: 10px; display: flex; gap: 10px; align-items: center;">
                <input type="file" class="image-file-input" accept="image/*" required>
                <select class="image-color-select">
                    <option value="Alb">Culoare: Alb</option>
                    <option value="Negru">Culoare: Negru</option>
                </select>
            </div>
        </div>
        <button type="button" onclick="addImageRow()" style="background: #666; color: white; border: none; padding: 5px 10px; cursor: pointer; border-radius: 4px; margin-bottom: 20px;">
            + Adaugă încă o poză
        </button>

        <button type="submit" class="btn-add">Salvează Produsul Complet</button> 
    </form>

    <p id="msg" style="margin-top: 15px; font-weight: bold;"></p>
</div>
    </main>

<footer>
  <div class="container">

    <div class="sec about">
      <h2>CrossWears</h2>
      <p>
      Suntem dedicați răspândirii Evangheliei prin artă vestimentară. 
      Fiecare tricou este o mărturie și o invitație la dialog. 
      Purtăm Credința cu Mândrie.
      </p>
    </div>

       <div class="sec office">
      <h2>Office</h2>
      <p>Strd. Mihai Eminescu, Nr.10, <br>Sector 7,<br>București,<br>Romania,</p>
      <p>contact.crosswears@gmail.com</p>
      <p>+40 723 456 789</p>
    </div>

    <div class="sec links">
      <h2>Links</h2>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="shop.html">Shop</a></li>
        <li><a href="contact.html">Contacts</a></li>
      </ul>
    </div>

    <div class="sec newsletter">
    <h2>Newsletter</h2>
    <div class="newsletter-box">
        <input type="email" id="footer-email" placeholder="Enter your email">
        <button onclick="subscribeNewsletter()">&#10140;</button>
    </div>
       <div class="social">
        <a href="https://www.linkedin.com/in/denis-%C8%9Bigan-379a5436a/" target="_blank"><i class="fab fa-facebook"></i></a>
        <a href="https://www.linkedin.com/in/denis-%C8%9Bigan-379a5436a/" target="_blank"><i class="fab fa-instagram"></i></a>
        <a href="https://www.linkedin.com/in/denis-%C8%9Bigan-379a5436a/" target="_blank"><i class="fab fa-twitter"></i></a>
      </div>
    </div>

  </div>

  <p class="copyright">© 2025 CrossWears. Toate drepturile rezervate.</p>
</footer>

    <script src="addProduct.js"></script>
    <script src="general.js"></script>

</body>
</html>